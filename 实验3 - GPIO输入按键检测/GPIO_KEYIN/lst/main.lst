C51 COMPILER V9.52.0.0   MAIN                                                              05/04/2015 10:44:15 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Object\main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE main.c LARGE BROWSE INCDIR(compiler\common;hal\nrf24le1;hal;hal\nrf24l01p;c
                    -ompiler\c51) DEBUG OBJECTEXTEND PRINT(.\lst\main.lst) TABS(2) OBJECT(.\Object\main.obj)

line level    source

   1          /****************************************Copyright (c)****************************************************
   2          **                                        
   3          **                                 
   4          **
   5          **--------------File Info---------------------------------------------------------------------------------
   6          ** File name:     main.c
   7          ** Last modified Date: 2015-4-16         
   8          ** Last Version:       1.2
   9          ** Descriptions:              
  10          **--------------------------------------------------------------------------------------------------------
  11          ** Created by:      FiYu
  12          ** Created date:    2014-11-12
  13          ** Version:         1.0
  14          ** Descriptions:    GPIO按键输入检测实验          
  15          **--------------------------------------------------------------------------------------------------------
  16          ** Modified by:     FiYu
  17          ** Modified date:   
  18          ** Version:       
  19          ** Descriptions:    
  20          ** Rechecked by:      
  21          **********************************************************************************************************
             -/
  22          #include <stdio.h> 
  23          #include <reg24le1.h>
  24          #include <stdint.h>
  25          #include "hal_delay.h"
  26          
  27          
  28          /*-------------------管脚定义--------------------------------------------------*/
  29          #define  D1    P00  // 开发板上的指示灯D1
  30          #define  D2    P01  // 开发板上的指示灯D2
  31          #define  S1    P12  // 开发板上的按键S1
  32          #define  S2    P13  // 开发板上的按键S2
  33          
  34          
  35          /* 开发板中nRF24LE1管脚配置
  36          P00：输出，驱动D1        P12：输入，按键检测S1  
  37          P01：输出，驱动D2        P13：输入，按键检测S2
  38          P02：输出，OLED时钟      P14：输出，OLED数据
  39          P03：输出，UART TXD      P15：输出，OLED片选
  40          P04：输入，UART RXD      P16：输出，OLED命令/数据选择
  41          P06：输入，AIN6  AD检测  蜂鸣器驱动(通过跳线选择)
  42          */
  43          
  44          /*******************************************************************************************************
  45           * 描  述 : 配置 IO P0.0和P0.1为输出，P1.2和P1.3为输入
  46           * 入  参 : 无
  47           * 返回值 : 无
  48           *******************************************************************************************************/
  49          void IO_Init(void)
  50          { 
  51   1        P0DIR &= ~0x03;    //配置P0.0和P0.1为输出
  52   1        P1DIR |= 0x0c;     //配置P1.2和P1.3为输入
  53   1        D1 = 1;            //设置D1初始状态为熄灭
C51 COMPILER V9.52.0.0   MAIN                                                              05/04/2015 10:44:15 PAGE 2   

  54   1        D2 = 1;            //设置D2初始状态为熄灭
  55   1      }
  56          /*******************************************************************************************************
  57           * 描  述 : 主函数
  58           * 入  参 : 无
  59           * 返回值 : 无
  60           *******************************************************************************************************/
  61          void main(void)
  62          { 
  63   1        IO_Init();
  64   1      
  65   1        while(1)
  66   1        {
  67   2          if(S1 == 0)
  68   2          {
  69   3            delay_ms(10);
  70   3            if(S1 == 0)      //按键1按下
  71   3            {
  72   4              D1 = 0;        //点亮D1
  73   4              while(S1 == 0); //等待按键释放
  74   4              D1 = 1;
  75   4            }
  76   3          }
  77   2      
  78   2          if(S2 == 0)
  79   2          {
  80   3            delay_ms(10);
  81   3            if(S2 == 0)      //按键2按下
  82   3            {
  83   4              D2 = 0;      //点亮D2
  84   4              while(S2 == 0); //等待按键释放
  85   4              D2 = 1;
  86   4            }
  87   3          } 
  88   2        }
  89   1      }
  90          
  91          /*********************************END FILE****************************************************************
             -/  


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     56    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
